<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>П.15.03: Алгоритмическая задача</title>
    <!-- Подключаем тот же самый style.css -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>Технический сайт (Задания 14-17)</h1>
    </header>

    <!-- 
      НАВИГАЦИЯ
      Теперь class="active" стоит на ссылке "Алгоритм".
    -->
    <nav>
        <a href="index.html">Главная</a>
        <a href="passport.html">Паспорт (П.14)</a>
        <a href="translate.html">Латиница (П.15.02)</a>
        <a href="algorithm.html" class="active">Алгоритм (П.15.03)</a>
    </nav>

    <main>
        <h3>П. 15.03, 16-17: Решение алгоритмической задачи</h3>
        
        <h4 style="margin-top: 20px;">Форма для решения (Пункт 16)</h4>
        <p><b>Условие задачи (№1016):</b> Дано вещественное число A. Вычислить x = 0 при a > 100; x = a при a < 61, в противном случае x = a**4.</p>

        <!-- 
          Пункт 17: Форма отправляет условие, данные и результат на сервер.
        -->
        <form 
            action="https://httpbin.org/post" 
            method="POST" 
            target="_blank" 
            id="algorithmForm"
        >
            <!-- Скрытое поле с условием задачи -->
            <input type="hidden" name="uslovie_zadachi" value="Zadacha 1016: Vychislit x po chislu A">
            
            <div>
                <label for="numA">Вещественное число A:</label>
                <input type="number" id="numA" name="ishodnie_dannie_A" step="any" required> <!-- step="any" позволяет вводить дробные числа -->
            </div>
            
            <!-- Сюда JS запишет результат -->
            <input type="hidden" id="resultField" name="resultat_resheniya">
            
            <button type="button" id="solveButton">1. Решить задачу (JS)</button>
            
            <p style="font-size: 1.2rem; margin: 15px 0;">
                Результат: <span id="resultOutput" style="font-weight: bold; color: #0074D9;">?</span>
            </p>

            <button type="submit" id="submitAlgorithm" disabled>2. Отправить на сервер (Пункт 17)</button>
        </form>
    </main>

    <footer>
        <p>Учебный проект | 2025</p>
    </footer>

    <!-- 
      JavaScript (мозг) для ЭТОЙ страницы.
    -->
    <script>
        // Ждем, пока вся HTML-страница загрузится
        document.addEventListener('DOMContentLoaded', function() {

            // --- Логика для П. 16-17 (Алгоритмическая задача) ---
            const solveButton = document.getElementById('solveButton');
            const submitAlgorithmButton = document.getElementById('submitAlgorithm');
            const resultOutput = document.getElementById('resultOutput');
            const resultField = document.getElementById('resultField');
            
            if (solveButton) {
                solveButton.addEventListener('click', function() {
                    // 1. Получаем исходные данные из формы
                    const numA_val = document.getElementById('numA').value;

                    // 2. Проверяем, что это число
                    const a = parseFloat(numA_val);

                    if (isNaN(a)) {
                        resultOutput.innerText = "Ошибка: введите число A!";
                        resultOutput.style.color = "red";
                    } else {
                        // 3. РЕШАЕМ ЗАДАЧУ (Вот твой JS по задаче 1016)
                        let x; 

                        if (a > 100) {
                            x = 0;
                        } else if (a < 61) {
                            x = a;
                        } else {
                            // В противном случае (a между 61 и 100)
                            x = Math.pow(a, 4); // a**4
                        }

                        // 4. Показываем результат пользователю
                        resultOutput.innerText = x;
                        resultOutput.style.color = "#0074D9";

                        // 5. Записываем результат в *скрытое* поле
                        resultField.value = x;

                        // 6. Разблокируем кнопку отправки
                        submitAlgorithmButton.disabled = false;
                    }
                });
            }

        }); // Конец 'DOMContentLoaded'
    </script>

</body>
</html>